function _0x1534(){const _0x3f8ede=['configure','byteLength','_cameraPose','updateCameraPose','fragmentMain','moveRight','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','moveLeft','_bindGroup','resize','height','createShaderModule','5330672NHVhRf','_vertices','then','status','createTranslator','Cache-Control','createElement','renderCanvas','end','gpu','createRenderPipeline','UNIFORM','Renderer\x20Bind\x20Group\x20','mousedown','log','zoomIn','writeBuffer','getBindGroupLayout','getElementById','createBuffer','init','resizeCanvas','style','ArrowRight','mouseleave','triangle-list','_canvasFormat','_clearColor','render','_renderPipeline','Shader\x20','_shaderFile','loadShader','open','constructor','3161292svQAcP','_context','send','updatePose','_shaderModule','createGeometry','compute','_vertexBufferLayout','innerWidth','Render\x20Pipeline\x20','canvas','renderToSelectedView','updateGeometry','Vertices\x20','createComputePipeline','getName','setVertexBuffer','mousemove','moveUp','_canvas','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','innerHTML','beginRenderPass','bind','Camera\x20Pose\x20','createShaders','GET','45JPaezd','onerror','createView','263256PHTpRr','390300xlOLni','catch','draw','15CuvFPh','456922CUSipi','queue','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','DONE','finish','length','width','clear','geometricProduct','ArrowDown','message','getContext','_device','zoomOut','normalizeMotor','submit','onload','_pose','moveDown','/lib/Shaders/optimized_cameraView.wgsl','statusText','requestAdapter','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','_objectCnt','_topology','88714DSVlTu','addEventListener','_vertexBuffer','store','Couldn\x27t\x20request\x20WebGPU\x20adapter.','now','clientY','requestDevice','auto','readyState','renders','_objects','</br>','appendSceneObject','push','3036546EXvOTp','setBindGroup','keydown','innerHeight','vertexMain','createBindGroup','VERTEX','COPY_DST','appendChild','body','sqrt','getCurrentTexture','_cameraPoseBuffer','clientX','float32x2'];_0x1534=function(){return _0x3f8ede;};return _0x1534();}const _0xc415a0=_0x566d;function _0x566d(_0x4a682b,_0x2c1868){_0x4a682b=_0x4a682b-0x1e7;const _0x153491=_0x1534();let _0x566d8b=_0x153491[_0x4a682b];return _0x566d8b;}(function(_0xdc0511,_0x24e782){const _0x22e44f=_0x566d,_0x449288=_0xdc0511();while(!![]){try{const _0x3eceeb=parseInt(_0x22e44f(0x1f2))/0x1+parseInt(_0x22e44f(0x20b))/0x2*(-parseInt(_0x22e44f(0x1f1))/0x3)+-parseInt(_0x22e44f(0x258))/0x4+-parseInt(_0x22e44f(0x1ea))/0x5*(-parseInt(_0x22e44f(0x1ee))/0x6)+parseInt(_0x22e44f(0x1ed))/0x7+parseInt(_0x22e44f(0x235))/0x8+-parseInt(_0x22e44f(0x21a))/0x9;if(_0x3eceeb===_0x24e782)break;else _0x449288['push'](_0x449288['shift']());}catch(_0x13c8d4){_0x449288['push'](_0x449288['shift']());}}}(_0x1534,0x60e0c));class SceneObject{static [_0xc415a0(0x209)]=0x0;constructor(_0x53faa0,_0x731a53,_0x18e034){const _0x44a24c=_0xc415a0;if(this[_0x44a24c(0x257)]==SceneObject)throw new Error(_0x44a24c(0x22f));this[_0x44a24c(0x1fe)]=_0x53faa0,this[_0x44a24c(0x24f)]=_0x731a53,this[_0x44a24c(0x254)]=_0x18e034,SceneObject['_objectCnt']+=0x1;}[_0xc415a0(0x267)](){const _0x457b44=_0xc415a0;return this[_0x457b44(0x257)]['name']+'\x20'+SceneObject[_0x457b44(0x209)]['toString']();}async[_0xc415a0(0x249)](){const _0xd34473=_0xc415a0;await this[_0xd34473(0x25d)](),await this[_0xd34473(0x1e8)](),await this[_0xd34473(0x23f)](),await this[_0xd34473(0x266)]();}async[_0xc415a0(0x25d)](){const _0x20283d=_0xc415a0;throw new Error(_0x20283d(0x26c));}[_0xc415a0(0x264)](){}['loadShader'](_0x88fb90){return new Promise((_0x41333c,_0x2f58ef)=>{const _0x483c05=_0x566d,_0x49f166=new XMLHttpRequest();_0x49f166[_0x483c05(0x256)](_0x483c05(0x1e9),_0x88fb90),_0x49f166['setRequestHeader'](_0x483c05(0x23a),'no-cache,\x20no-store,\x20max-age=0'),_0x49f166[_0x483c05(0x202)]=function(){const _0x3d1c1e=_0x483c05;_0x49f166[_0x3d1c1e(0x214)]===XMLHttpRequest[_0x3d1c1e(0x1f5)]&&_0x49f166[_0x3d1c1e(0x238)]===0xc8?_0x41333c(_0x49f166['responseText']):_0x2f58ef({'status':_0x49f166[_0x3d1c1e(0x238)],'statusText':_0x49f166[_0x3d1c1e(0x206)]});},_0x49f166[_0x483c05(0x1eb)]=function(){const _0x713fa6=_0x483c05;_0x2f58ef({'status':_0x49f166[_0x713fa6(0x238)],'statusText':_0x49f166[_0x713fa6(0x206)]});},_0x49f166[_0x483c05(0x25a)]();});}async['createShaders'](){const _0x1abbb8=_0xc415a0,_0xc37c21=await this[_0x1abbb8(0x255)](this[_0x1abbb8(0x254)]);this['_shaderModule']=this['_device'][_0x1abbb8(0x234)]({'label':_0x1abbb8(0x253)+this['getName'](),'code':_0xc37c21});}async[_0xc415a0(0x23f)](){const _0x25bd04=_0xc415a0;throw new Error(_0x25bd04(0x208));}[_0xc415a0(0x251)](_0x3c77e0){const _0x277d77=_0xc415a0;throw new Error(_0x277d77(0x1f4));}async[_0xc415a0(0x266)](){}[_0xc415a0(0x25e)](_0x4683a8){}}class Camera2DVertexObject extends SceneObject{constructor(_0x1e908d,_0x26ae40,_0x4adbb5,_0xee03d4,_0x4e7dbd,_0x345251){const _0x1380aa=_0xc415a0;super(_0x1e908d,_0x26ae40,_0x4e7dbd),this[_0x1380aa(0x22b)]=_0x4adbb5,this['_vertices']=_0xee03d4,this[_0x1380aa(0x20a)]=_0x345251;}async[_0xc415a0(0x25d)](){const _0x2032d6=_0xc415a0;this[_0x2032d6(0x20d)]=this[_0x2032d6(0x1fe)][_0x2032d6(0x248)]({'label':_0x2032d6(0x265)+this[_0x2032d6(0x267)](),'size':this[_0x2032d6(0x236)][_0x2032d6(0x22a)],'usage':GPUBufferUsage[_0x2032d6(0x220)]|GPUBufferUsage[_0x2032d6(0x221)]}),this['_device'][_0x2032d6(0x1f3)][_0x2032d6(0x245)](this['_vertexBuffer'],0x0,this[_0x2032d6(0x236)]),this[_0x2032d6(0x25f)]={'arrayStride':0x2*Float32Array['BYTES_PER_ELEMENT'],'attributes':[{'shaderLocation':0x0,'format':_0x2032d6(0x228),'offset':0x0}]},this[_0x2032d6(0x226)]=this[_0x2032d6(0x1fe)]['createBuffer']({'label':_0x2032d6(0x1e7)+this[_0x2032d6(0x267)](),'size':this[_0x2032d6(0x22b)]['byteLength'],'usage':GPUBufferUsage[_0x2032d6(0x240)]|GPUBufferUsage[_0x2032d6(0x221)]}),this['updateCameraPose']();}[_0xc415a0(0x264)](){}['updateCameraPose'](){const _0x5666f9=_0xc415a0;if(this[_0x5666f9(0x226)])this[_0x5666f9(0x1fe)][_0x5666f9(0x1f3)][_0x5666f9(0x245)](this[_0x5666f9(0x226)],0x0,this[_0x5666f9(0x22b)]);}async[_0xc415a0(0x23f)](){const _0x8609a9=_0xc415a0;this[_0x8609a9(0x252)]=this['_device'][_0x8609a9(0x23f)]({'label':_0x8609a9(0x261)+this[_0x8609a9(0x267)](),'layout':_0x8609a9(0x213),'vertex':{'module':this[_0x8609a9(0x25c)],'entryPoint':_0x8609a9(0x21e),'buffers':[this[_0x8609a9(0x25f)]]},'fragment':{'module':this[_0x8609a9(0x25c)],'entryPoint':_0x8609a9(0x22d),'targets':[{'format':this[_0x8609a9(0x24f)]}]},'primitive':{'topology':this['_topology']}}),this['_bindGroup']=this[_0x8609a9(0x1fe)][_0x8609a9(0x21f)]({'label':_0x8609a9(0x241)+this[_0x8609a9(0x267)](),'layout':this[_0x8609a9(0x252)][_0x8609a9(0x246)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}}]});}[_0xc415a0(0x251)](_0x5613fc){const _0x278912=_0xc415a0;_0x5613fc['setPipeline'](this['_renderPipeline']),_0x5613fc[_0x278912(0x268)](0x0,this[_0x278912(0x20d)]),_0x5613fc[_0x278912(0x21b)](0x0,this[_0x278912(0x231)]),_0x5613fc[_0x278912(0x1f0)](this['_vertices'][_0x278912(0x1f7)]/0x2);}async[_0xc415a0(0x266)](){}[_0xc415a0(0x25e)](_0xa897c7){}}const PGA2D={'geometricProduct'(_0x26dd26,_0x35fbf4){return[_0x26dd26[0x0]*_0x35fbf4[0x0]-_0x26dd26[0x1]*_0x35fbf4[0x1],_0x26dd26[0x0]*_0x35fbf4[0x1]+_0x26dd26[0x1]*_0x35fbf4[0x0],_0x26dd26[0x0]*_0x35fbf4[0x2]+_0x26dd26[0x1]*_0x35fbf4[0x3]+_0x26dd26[0x2]*_0x35fbf4[0x0]-_0x26dd26[0x3]*_0x35fbf4[0x1],_0x26dd26[0x0]*_0x35fbf4[0x3]-_0x26dd26[0x1]*_0x35fbf4[0x2]+_0x26dd26[0x2]*_0x35fbf4[0x1]+_0x26dd26[0x3]*_0x35fbf4[0x0]];},'reverse'(_0x26ec44){return[_0x26ec44[0x0],-_0x26ec44[0x1],-_0x26ec44[0x2],-_0x26ec44[0x3]];},'normalizeMotor'(_0x4a5174){const _0x49350a=_0xc415a0,_0x52b47c=Math[_0x49350a(0x224)](_0x4a5174[0x0]*_0x4a5174[0x0]+_0x4a5174[0x1]*_0x4a5174[0x1]+_0x4a5174[0x2]*_0x4a5174[0x2]+_0x4a5174[0x3]*_0x4a5174[0x3]);if(_0x52b47c===0x0)return[0x1,0x0,0x0,0x0];return[_0x4a5174[0x0]/_0x52b47c,_0x4a5174[0x1]/_0x52b47c,_0x4a5174[0x2]/_0x52b47c,_0x4a5174[0x3]/_0x52b47c];},'createTranslator'(_0x593d8a,_0x480a20){return[0x1,0x0,_0x593d8a/0x2,_0x480a20/0x2];}};class Camera{constructor(){const _0x523f31=_0xc415a0;this[_0x523f31(0x203)]=new Float32Array([0x1,0x0,0x0,0x0,0x1,0x1]);}[_0xc415a0(0x25b)](_0xa124f6){const _0x338fac=_0xc415a0;this['_pose'][0x0]=_0xa124f6[0x0],this[_0x338fac(0x203)][0x1]=_0xa124f6[0x1],this[_0x338fac(0x203)][0x2]=_0xa124f6[0x2],this['_pose'][0x3]=_0xa124f6[0x3];}[_0xc415a0(0x230)](_0x1a90f0){const _0x4afaee=_0xc415a0,_0x56032d=PGA2D[_0x4afaee(0x239)](-_0x1a90f0,0x0),_0x245a83=PGA2D[_0x4afaee(0x200)](PGA2D[_0x4afaee(0x1fa)](_0x56032d,[this[_0x4afaee(0x203)][0x0],this[_0x4afaee(0x203)][0x1],this[_0x4afaee(0x203)][0x2],this[_0x4afaee(0x203)][0x3]]));this[_0x4afaee(0x25b)](_0x245a83);}['moveRight'](_0x5c0853){const _0x167d84=_0xc415a0,_0x41944c=PGA2D[_0x167d84(0x239)](_0x5c0853,0x0),_0x4468e8=PGA2D['normalizeMotor'](PGA2D[_0x167d84(0x1fa)](_0x41944c,[this[_0x167d84(0x203)][0x0],this[_0x167d84(0x203)][0x1],this[_0x167d84(0x203)][0x2],this[_0x167d84(0x203)][0x3]]));this[_0x167d84(0x25b)](_0x4468e8);}[_0xc415a0(0x26a)](_0x312eb0){const _0x423d70=_0xc415a0,_0x369251=PGA2D[_0x423d70(0x239)](0x0,_0x312eb0),_0x39cb63=PGA2D['normalizeMotor'](PGA2D[_0x423d70(0x1fa)](_0x369251,[this['_pose'][0x0],this[_0x423d70(0x203)][0x1],this[_0x423d70(0x203)][0x2],this['_pose'][0x3]]));this['updatePose'](_0x39cb63);}['moveDown'](_0x54977d){const _0x29ffe6=_0xc415a0,_0x108315=PGA2D[_0x29ffe6(0x239)](0x0,-_0x54977d),_0x364528=PGA2D[_0x29ffe6(0x200)](PGA2D[_0x29ffe6(0x1fa)](_0x108315,[this['_pose'][0x0],this['_pose'][0x1],this[_0x29ffe6(0x203)][0x2],this[_0x29ffe6(0x203)][0x3]]));this['updatePose'](_0x364528);}[_0xc415a0(0x244)](){const _0x1e1630=_0xc415a0;this[_0x1e1630(0x203)][0x4]*=1.1,this[_0x1e1630(0x203)][0x5]*=1.1;}['zoomOut'](){const _0x3ad468=_0xc415a0;this[_0x3ad468(0x203)][0x4]/=1.1,this[_0x3ad468(0x203)][0x5]/=1.1;}}class Renderer{constructor(_0x11b0f3){const _0x137773=_0xc415a0;this[_0x137773(0x26b)]=_0x11b0f3,this[_0x137773(0x216)]=[],this[_0x137773(0x250)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async['init'](){const _0x56db02=_0xc415a0;if(!navigator[_0x56db02(0x23e)])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x251304=await navigator[_0x56db02(0x23e)][_0x56db02(0x207)]();if(!_0x251304)throw Error(_0x56db02(0x20f));this['_device']=await _0x251304[_0x56db02(0x212)](),this['_context']=this[_0x56db02(0x26b)][_0x56db02(0x1fd)]('webgpu'),this[_0x56db02(0x24f)]=navigator[_0x56db02(0x23e)]['getPreferredCanvasFormat'](),this['_context'][_0x56db02(0x229)]({'device':this[_0x56db02(0x1fe)],'format':this['_canvasFormat']}),this[_0x56db02(0x24a)](),window[_0x56db02(0x20c)](_0x56db02(0x232),this['resizeCanvas'][_0x56db02(0x26f)](this));}[_0xc415a0(0x24a)](){const _0x2935cc=_0xc415a0,_0x1e0341=window['devicePixelRatio']||0x1,_0x985ccd=window['innerWidth']*_0x1e0341,_0x2d5f5a=window[_0x2935cc(0x21d)]*_0x1e0341;this['_canvas'][_0x2935cc(0x1f8)]=_0x985ccd,this[_0x2935cc(0x26b)][_0x2935cc(0x233)]=_0x2d5f5a,this['_canvas'][_0x2935cc(0x24b)][_0x2935cc(0x1f8)]=window[_0x2935cc(0x260)]+'px',this[_0x2935cc(0x26b)][_0x2935cc(0x24b)][_0x2935cc(0x233)]=window[_0x2935cc(0x21d)]+'px',this[_0x2935cc(0x251)]();}async[_0xc415a0(0x218)](_0x359c43){const _0x27f3fd=_0xc415a0;await _0x359c43[_0x27f3fd(0x249)](),this[_0x27f3fd(0x216)][_0x27f3fd(0x219)](_0x359c43);}['renderToSelectedView'](_0x495c43){const _0x5aa758=_0xc415a0;for(const _0x569f31 of this['_objects']){_0x569f31?.[_0x5aa758(0x264)]();}const _0x2126e6=this[_0x5aa758(0x1fe)]['createCommandEncoder'](),_0x9c02f2=_0x2126e6[_0x5aa758(0x26e)]({'colorAttachments':[{'view':_0x495c43,'clearValue':this['_clearColor'],'loadOp':_0x5aa758(0x1f9),'storeOp':_0x5aa758(0x20e)}]});for(const _0x120040 of this[_0x5aa758(0x216)]){_0x120040?.[_0x5aa758(0x251)](_0x9c02f2);}_0x9c02f2[_0x5aa758(0x23d)]();const _0x5fe031=_0x2126e6[_0x5aa758(0x1f6)]();this[_0x5aa758(0x1fe)]['queue'][_0x5aa758(0x201)]([_0x5fe031]);}[_0xc415a0(0x251)](){const _0x1315c5=_0xc415a0;this[_0x1315c5(0x263)](this[_0x1315c5(0x259)][_0x1315c5(0x225)]()[_0x1315c5(0x1ec)]());}}function mouseToNDC(_0x32f3a9){const _0x164f3c=_0xc415a0,_0x334feb=_0x32f3a9[_0x164f3c(0x227)]/window[_0x164f3c(0x260)]*0x2-0x1,_0x1095b3=-_0x32f3a9[_0x164f3c(0x211)]/window[_0x164f3c(0x21d)]*0x2+0x1;return[_0x334feb,_0x1095b3];}async function init(){const _0x3b060b=_0xc415a0,_0x51911c=document[_0x3b060b(0x23b)](_0x3b060b(0x262));_0x51911c['id']=_0x3b060b(0x23c),document[_0x3b060b(0x223)][_0x3b060b(0x222)](_0x51911c);const _0x3b5c3f=new Renderer(_0x51911c);await _0x3b5c3f['init']();const _0x1fbfa2=new Camera(),_0x57df84=new Camera2DVertexObject(_0x3b5c3f[_0x3b060b(0x1fe)],_0x3b5c3f[_0x3b060b(0x24f)],_0x1fbfa2[_0x3b060b(0x203)],new Float32Array([0x0,0.5,-0.5,0x0,0.5,0x0]),_0x3b060b(0x205),_0x3b060b(0x24e));await _0x3b5c3f[_0x3b060b(0x218)](_0x57df84);const _0x4d5e62=0.05;let _0x3384e3=!![],_0x2a773d=0x0,_0x351521=0x0;const _0x31d1c0=0x3c,_0x24707c=0x1/_0x31d1c0*0x3e8;let _0x2cad0c=Date[_0x3b060b(0x210)]();window[_0x3b060b(0x20c)](_0x3b060b(0x21c),_0x1435b2=>{const _0xb12ff0=_0x3b060b;switch(_0x1435b2['key']){case'ArrowUp':case'w':case'W':_0x1fbfa2['moveUp'](_0x4d5e62),_0x57df84[_0xb12ff0(0x22c)](),_0x3384e3=!![];break;case _0xb12ff0(0x1fb):case's':case'S':_0x1fbfa2[_0xb12ff0(0x204)](_0x4d5e62),_0x57df84['updateCameraPose'](),_0x3384e3=!![];break;case'ArrowLeft':case'a':case'A':_0x1fbfa2[_0xb12ff0(0x230)](_0x4d5e62),_0x57df84[_0xb12ff0(0x22c)](),_0x3384e3=!![];break;case _0xb12ff0(0x24c):case'd':case'D':_0x1fbfa2[_0xb12ff0(0x22e)](_0x4d5e62),_0x57df84[_0xb12ff0(0x22c)](),_0x3384e3=!![];break;case'q':case'Q':_0x1fbfa2[_0xb12ff0(0x244)](),_0x57df84[_0xb12ff0(0x22c)](),_0x3384e3=!![];break;case'e':case'E':_0x1fbfa2[_0xb12ff0(0x1ff)](),_0x57df84[_0xb12ff0(0x22c)](),_0x3384e3=!![];break;}});let _0x33bb6b=![],_0x2f1c01={'x':0x0,'y':0x0};const _0x2dc22d=0.001;_0x51911c[_0x3b060b(0x20c)](_0x3b060b(0x242),_0x178e9f=>{_0x33bb6b=!![];const _0x9048ba=mouseToNDC(_0x178e9f);_0x2f1c01['x']=_0x9048ba[0x0],_0x2f1c01['y']=_0x9048ba[0x1];}),_0x51911c[_0x3b060b(0x20c)]('mouseup',()=>{_0x33bb6b=![];}),_0x51911c[_0x3b060b(0x20c)](_0x3b060b(0x24d),()=>{_0x33bb6b=![];}),_0x51911c[_0x3b060b(0x20c)](_0x3b060b(0x269),_0x46e16a=>{const _0x203e8f=_0x3b060b;if(!_0x33bb6b)return;const _0x564e34=mouseToNDC(_0x46e16a),_0x42365c=_0x564e34[0x0]-_0x2f1c01['x'],_0x4cb367=_0x564e34[0x1]-_0x2f1c01['y'],_0x4b783e=Math[_0x203e8f(0x224)](_0x42365c*_0x42365c+_0x4cb367*_0x4cb367);if(_0x4b783e>_0x2dc22d){_0x2f1c01['x']=_0x564e34[0x0],_0x2f1c01['y']=_0x564e34[0x1];if(_0x42365c>0x0)_0x1fbfa2[_0x203e8f(0x22e)](-_0x42365c);else _0x1fbfa2[_0x203e8f(0x230)](_0x42365c);if(_0x4cb367>0x0)_0x1fbfa2[_0x203e8f(0x26a)](-_0x4cb367);else _0x1fbfa2[_0x203e8f(0x204)](_0x4cb367);_0x57df84['updateCameraPose'](),_0x3384e3=!![];}});const _0x4ccce1=()=>{const _0x2cbaca=_0x3b060b,_0x42c1c0=Date[_0x2cbaca(0x210)]()-_0x2cad0c;_0x42c1c0>_0x24707c&&(_0x2a773d+=0x1,_0x2cad0c=Date[_0x2cbaca(0x210)]()-_0x42c1c0%_0x24707c,_0x3384e3&&(_0x3b5c3f['render'](),_0x351521+=0x1,_0x3384e3=![])),requestAnimationFrame(_0x4ccce1);};return _0x2cad0c=Date['now'](),_0x4ccce1(),setInterval(()=>{const _0x1c8d7f=_0x3b060b;console[_0x1c8d7f(0x243)]('fps\x20tick',_0x2a773d,_0x1c8d7f(0x215),_0x351521),_0x2a773d=0x0,_0x351521=0x0;},0x3e8),_0x3b5c3f;}init()[_0xc415a0(0x237)](_0x5b5610=>{const _0x5d191c=_0xc415a0;console[_0x5d191c(0x243)]('Scroll\x204\x20ready',_0x5b5610);})[_0xc415a0(0x1ef)](_0xece29a=>{const _0x2308f3=_0xc415a0,_0x51edc5=document[_0x2308f3(0x23b)]('p');_0x51edc5[_0x2308f3(0x26d)]=navigator['userAgent']+_0x2308f3(0x217)+_0xece29a[_0x2308f3(0x1fc)],document[_0x2308f3(0x223)][_0x2308f3(0x222)](_0x51edc5);const _0x2dfb97=document[_0x2308f3(0x247)](_0x2308f3(0x23c));if(_0x2dfb97)_0x2dfb97['remove']();});