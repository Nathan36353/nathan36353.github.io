const _0xf3e3f4=_0x46a0;(function(_0x17d53e,_0x5cb6d9){const _0x1d211f=_0x46a0,_0x495325=_0x17d53e();while(!![]){try{const _0x34062b=parseInt(_0x1d211f(0x114))/0x1+-parseInt(_0x1d211f(0xc8))/0x2*(-parseInt(_0x1d211f(0x11b))/0x3)+-parseInt(_0x1d211f(0xd1))/0x4*(-parseInt(_0x1d211f(0xfe))/0x5)+parseInt(_0x1d211f(0xda))/0x6*(parseInt(_0x1d211f(0xbd))/0x7)+parseInt(_0x1d211f(0xf8))/0x8*(parseInt(_0x1d211f(0x10e))/0x9)+parseInt(_0x1d211f(0x103))/0xa+parseInt(_0x1d211f(0xbf))/0xb*(-parseInt(_0x1d211f(0x12c))/0xc);if(_0x34062b===_0x5cb6d9)break;else _0x495325['push'](_0x495325['shift']());}catch(_0x577b35){_0x495325['push'](_0x495325['shift']());}}}(_0x1587,0xb9cb4));class Renderer{constructor(_0x1e01ab){const _0x523aca=_0x46a0;this[_0x523aca(0x129)]=_0x1e01ab,this[_0x523aca(0x128)]=[],this[_0x523aca(0x118)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0xf3e3f4(0xfa)](){const _0x171cd0=_0xf3e3f4;if(!navigator[_0x171cd0(0xc0)])throw Error(_0x171cd0(0xef));const _0x5a4a68=await navigator[_0x171cd0(0xc0)]['requestAdapter']();if(!_0x5a4a68)throw Error(_0x171cd0(0x134));this['_device']=await _0x5a4a68[_0x171cd0(0x12d)](),this[_0x171cd0(0x123)]=this[_0x171cd0(0x129)][_0x171cd0(0x117)](_0x171cd0(0x130)),this[_0x171cd0(0x107)]=navigator[_0x171cd0(0xc0)][_0x171cd0(0x138)](),this['_context'][_0x171cd0(0x132)]({'device':this['_device'],'format':this[_0x171cd0(0x107)]}),this[_0x171cd0(0x106)](),window['addEventListener'](_0x171cd0(0xf3),this[_0x171cd0(0x106)][_0x171cd0(0x119)](this));}[_0xf3e3f4(0x106)](){const _0x229f62=_0xf3e3f4,_0x25b9ce=window[_0x229f62(0x135)]||0x1,_0x5eafc7=window['innerWidth']*_0x25b9ce,_0x23d8a7=window[_0x229f62(0x11d)]*_0x25b9ce;this[_0x229f62(0x129)][_0x229f62(0x139)]=_0x5eafc7,this[_0x229f62(0x129)]['height']=_0x23d8a7,this[_0x229f62(0x129)]['style'][_0x229f62(0x139)]=window[_0x229f62(0x137)]+'px',this[_0x229f62(0x129)][_0x229f62(0xc9)][_0x229f62(0xf6)]=window[_0x229f62(0x11d)]+'px',this[_0x229f62(0x102)]();}async[_0xf3e3f4(0xfc)](_0x2df55b){const _0x116efd=_0xf3e3f4;await _0x2df55b[_0x116efd(0xfa)](),this['_objects'][_0x116efd(0xc3)](_0x2df55b);}['renderToSelectedView'](_0xead77d){const _0x31a348=_0xf3e3f4;for(const _0x2cda3b of this['_objects']){_0x2cda3b?.[_0x31a348(0xbb)]();}const _0x20ff0d=this[_0x31a348(0xd7)][_0x31a348(0xca)](),_0x3dad7f=this[_0x31a348(0x128)][_0x31a348(0x11c)](_0x1caa6e=>_0x1caa6e[_0x31a348(0x116)]);if(_0x3dad7f){const _0x7e7eab=_0x20ff0d[_0x31a348(0xcc)]();for(const _0x556858 of this[_0x31a348(0x128)]){if(_0x556858[_0x31a348(0x116)])_0x556858[_0x31a348(0xc6)](_0x7e7eab);}_0x7e7eab['end']();}const _0x334bee=_0x20ff0d['beginRenderPass']({'colorAttachments':[{'view':_0xead77d,'clearValue':this[_0x31a348(0x118)],'loadOp':'clear','storeOp':_0x31a348(0x101)}]});for(const _0x520bef of this[_0x31a348(0x128)]){_0x520bef?.[_0x31a348(0x102)](_0x334bee);}_0x334bee[_0x31a348(0x13b)]();const _0x532820=_0x20ff0d[_0x31a348(0xd3)]();this[_0x31a348(0xd7)][_0x31a348(0xee)][_0x31a348(0xff)]([_0x532820]);}[_0xf3e3f4(0x102)](){const _0x613013=_0xf3e3f4;this[_0x613013(0xea)](this[_0x613013(0x123)][_0x613013(0xf9)]()[_0x613013(0xed)]());}}class SceneObject{static [_0xf3e3f4(0x120)]=0x0;constructor(_0x40504b,_0x479b7d,_0x502b64){const _0x55f1a5=_0xf3e3f4;if(this['constructor']==SceneObject)throw new Error('Abstract\x20classes\x20can\x27t\x20be\x20instantiated.');this[_0x55f1a5(0xd7)]=_0x40504b,this[_0x55f1a5(0x107)]=_0x479b7d,this[_0x55f1a5(0x113)]=_0x502b64,SceneObject[_0x55f1a5(0x120)]+=0x1;}[_0xf3e3f4(0x133)](){const _0x3360f6=_0xf3e3f4;return this[_0x3360f6(0x131)][_0x3360f6(0x105)]+'\x20'+SceneObject[_0x3360f6(0x120)][_0x3360f6(0xf2)]();}async['init'](){const _0x6ba054=_0xf3e3f4;await this[_0x6ba054(0x12f)](),await this[_0x6ba054(0xc5)](),await this[_0x6ba054(0x10a)](),await this[_0x6ba054(0xc1)]();}async[_0xf3e3f4(0x12f)](){const _0x5998a4=_0xf3e3f4;throw new Error(_0x5998a4(0xc7));}[_0xf3e3f4(0xbb)](){}[_0xf3e3f4(0xe5)](_0x3921fc){return new Promise((_0x3b5427,_0x34dace)=>{const _0x5ef6c7=_0x46a0,_0x79d776=new XMLHttpRequest();_0x79d776[_0x5ef6c7(0xcd)]('GET',_0x3921fc),_0x79d776[_0x5ef6c7(0xd9)](_0x5ef6c7(0x115),_0x5ef6c7(0xcb)),_0x79d776['onload']=function(){const _0x4e9f34=_0x5ef6c7;_0x79d776[_0x4e9f34(0xe3)]===XMLHttpRequest[_0x4e9f34(0x12a)]&&_0x79d776[_0x4e9f34(0x10f)]===0xc8?_0x3b5427(_0x79d776[_0x4e9f34(0xf7)]):_0x34dace({'status':_0x79d776[_0x4e9f34(0x10f)],'statusText':_0x79d776[_0x4e9f34(0xfd)]});},_0x79d776[_0x5ef6c7(0xe2)]=function(){const _0x44fc9c=_0x5ef6c7;_0x34dace({'status':_0x79d776[_0x44fc9c(0x10f)],'statusText':_0x79d776[_0x44fc9c(0xfd)]});},_0x79d776[_0x5ef6c7(0xdf)]();});}async['createShaders'](){const _0x4690e1=_0xf3e3f4,_0x4b6fe8=await this[_0x4690e1(0xe5)](this['_shaderFile']);this[_0x4690e1(0x104)]=this[_0x4690e1(0xd7)][_0x4690e1(0x109)]({'label':_0x4690e1(0xce)+this[_0x4690e1(0x133)](),'code':_0x4b6fe8});}async[_0xf3e3f4(0x10a)](){const _0x30959a=_0xf3e3f4;throw new Error(_0x30959a(0x122));}[_0xf3e3f4(0x102)](_0x38605d){const _0x4b63cd=_0xf3e3f4;throw new Error(_0x4b63cd(0xf4));}async[_0xf3e3f4(0xc1)](){}[_0xf3e3f4(0xc6)](_0x2f33f9){}}function _0x1587(){const _0x345153=['webgpu','constructor','configure','getName','Couldn\x27t\x20request\x20WebGPU\x20adapter.','devicePixelRatio','Particle\x20Pipeline\x20Layout','innerWidth','getPreferredCanvasFormat','width','_bindGroups','end','userAgent','updateGeometry','now','35qJyqHy','float32x2','58271323jbSTEO','gpu','createComputePipeline','getElementById','push','setPipeline','createShaders','compute','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','2945562VckKJS','style','createCommandEncoder','no-cache,\x20no-store,\x20max-age=0','beginComputePass','open','Shader\x20','body','appendChild','1568340yuFZvF','Circle\x20vertices\x20','finish','then','message','writeBuffer','_device','draw','setRequestHeader','1250202jNZEjl','byteLength','Particle\x20Bind\x202\x20','createElement','</br>','send','STORAGE','remove','onerror','readyState','createBindGroupLayout','loadShader','Particle\x20Render\x20','renderCanvas','Scroll\x206\x20ready','fragmentMain','renderToSelectedView','_vertexBuffer','_particles','createView','queue','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','random','canvas','toString','resize','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','createBuffer','height','responseText','2181680EaDBqv','getCurrentTexture','init','dispatchWorkgroups','appendSceneObject','statusText','15RNAPIB','submit','setBindGroup','store','render','7922740Trxnxb','_shaderModule','name','resizeCanvas','_canvasFormat','setVertexBuffer','createShaderModule','createRenderPipeline','_step','resetParticles','createPipelineLayout','45MJydtw','status','line-strip','_numParticles','_bindGroupLayout','_shaderFile','211710KgYqcr','Cache-Control','_computePipeline','getContext','_clearColor','bind','Particle\x20Bind\x20Group\x20Layout\x20','3PdQopM','some','innerHeight','/lib/Shaders/optimized_particles.wgsl','VERTEX','_objectCnt','_pipelineLayout','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','_context','Particle\x20Bind\x201\x20','_particleBuffers','COPY_DST','read-only-storage','_objects','_canvas','DONE','Particles\x202\x20','12PlByeA','requestDevice','computeMain','createGeometry'];_0x1587=function(){return _0x345153;};return _0x1587();}class ParticleSystemObject extends SceneObject{constructor(_0x3e204c,_0x4ca08b,_0xb8e387,_0x2a3c6f=0x400){const _0x3c7943=_0xf3e3f4;super(_0x3e204c,_0x4ca08b,_0xb8e387),this[_0x3c7943(0x111)]=_0x2a3c6f,this['_step']=0x0;}[_0xf3e3f4(0x10c)](){const _0x639d81=_0xf3e3f4;for(let _0x48ccc6=0x0;_0x48ccc6<this[_0x639d81(0x111)];_0x48ccc6++){const _0x220a0f=(Math[_0x639d81(0xf0)]()-0.5)*0x2,_0x331149=(Math['random']()-0.5)*0x2,_0x497541=(Math['random']()-0.5)*0.01,_0x5e63d1=(Math[_0x639d81(0xf0)]()-0.5)*0.01;this[_0x639d81(0xec)][_0x48ccc6*0x8+0x0]=_0x220a0f,this[_0x639d81(0xec)][_0x48ccc6*0x8+0x1]=_0x331149,this[_0x639d81(0xec)][_0x48ccc6*0x8+0x2]=_0x220a0f,this[_0x639d81(0xec)][_0x48ccc6*0x8+0x3]=_0x331149,this[_0x639d81(0xec)][_0x48ccc6*0x8+0x4]=_0x497541,this['_particles'][_0x48ccc6*0x8+0x5]=_0x5e63d1,this['_particles'][_0x48ccc6*0x8+0x6]=_0x497541,this[_0x639d81(0xec)][_0x48ccc6*0x8+0x7]=_0x5e63d1;}}async[_0xf3e3f4(0x12f)](){const _0x5d3608=_0xf3e3f4;this[_0x5d3608(0xec)]=new Float32Array(this['_numParticles']*0x8),this[_0x5d3608(0x10c)]();const _0x3f611b=new Float32Array(0x9*0x2);for(let _0x2f898f=0x0;_0x2f898f<0x9;_0x2f898f++){_0x3f611b[_0x2f898f*0x2]=_0x2f898f,_0x3f611b[_0x2f898f*0x2+0x1]=0x0;}this[_0x5d3608(0xeb)]=this[_0x5d3608(0xd7)][_0x5d3608(0xf5)]({'label':_0x5d3608(0xd2)+this['getName'](),'size':_0x3f611b[_0x5d3608(0xdb)],'usage':GPUBufferUsage['VERTEX']|GPUBufferUsage[_0x5d3608(0x126)]}),this[_0x5d3608(0xd7)]['queue'][_0x5d3608(0xd6)](this[_0x5d3608(0xeb)],0x0,_0x3f611b),this['_particleBuffers']=[this[_0x5d3608(0xd7)][_0x5d3608(0xf5)]({'label':'Particles\x201\x20'+this[_0x5d3608(0x133)](),'size':this[_0x5d3608(0xec)]['byteLength'],'usage':GPUBufferUsage[_0x5d3608(0xe0)]|GPUBufferUsage['COPY_DST']}),this['_device'][_0x5d3608(0xf5)]({'label':_0x5d3608(0x12b)+this[_0x5d3608(0x133)](),'size':this[_0x5d3608(0xec)][_0x5d3608(0xdb)],'usage':GPUBufferUsage['STORAGE']|GPUBufferUsage[_0x5d3608(0x126)]})],this[_0x5d3608(0xd7)][_0x5d3608(0xee)][_0x5d3608(0xd6)](this[_0x5d3608(0x125)][0x0],0x0,this[_0x5d3608(0xec)]),this[_0x5d3608(0xd7)][_0x5d3608(0xee)][_0x5d3608(0xd6)](this['_particleBuffers'][0x1],0x0,this[_0x5d3608(0xec)]);}async[_0xf3e3f4(0x10a)](){const _0x77a9dd=_0xf3e3f4;this[_0x77a9dd(0x112)]=this['_device'][_0x77a9dd(0xe4)]({'label':_0x77a9dd(0x11a)+this[_0x77a9dd(0x133)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x77a9dd(0x11f)]|GPUShaderStage['COMPUTE'],'buffer':{'type':_0x77a9dd(0x127)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'storage'}}]}),this[_0x77a9dd(0x121)]=this[_0x77a9dd(0xd7)][_0x77a9dd(0x10d)]({'label':_0x77a9dd(0x136),'bindGroupLayouts':[this['_bindGroupLayout']]}),this['_bindGroups']=[this[_0x77a9dd(0xd7)]['createBindGroup']({'label':_0x77a9dd(0x124)+this[_0x77a9dd(0x133)](),'layout':this[_0x77a9dd(0x112)],'entries':[{'binding':0x0,'resource':{'buffer':this[_0x77a9dd(0x125)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x77a9dd(0x125)][0x1]}}]}),this[_0x77a9dd(0xd7)]['createBindGroup']({'label':_0x77a9dd(0xdc)+this[_0x77a9dd(0x133)](),'layout':this['_bindGroupLayout'],'entries':[{'binding':0x0,'resource':{'buffer':this[_0x77a9dd(0x125)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x77a9dd(0x125)][0x0]}}]})],this['_renderPipeline']=this[_0x77a9dd(0xd7)][_0x77a9dd(0x10a)]({'label':_0x77a9dd(0xe6)+this[_0x77a9dd(0x133)](),'layout':this[_0x77a9dd(0x121)],'vertex':{'module':this[_0x77a9dd(0x104)],'entryPoint':'vertexMain','buffers':[{'arrayStride':0x8,'attributes':[{'shaderLocation':0x0,'format':_0x77a9dd(0xbe),'offset':0x0}]}]},'fragment':{'module':this[_0x77a9dd(0x104)],'entryPoint':_0x77a9dd(0xe9),'targets':[{'format':this[_0x77a9dd(0x107)]}]},'primitive':{'topology':_0x77a9dd(0x110)}});}['render'](_0x406481){const _0x422377=_0xf3e3f4;_0x406481[_0x422377(0xc4)](this['_renderPipeline']),_0x406481[_0x422377(0x108)](0x0,this[_0x422377(0xeb)]),_0x406481[_0x422377(0x100)](0x0,this[_0x422377(0x13a)][this['_step']%0x2]),_0x406481[_0x422377(0xd8)](0x9,this[_0x422377(0x111)]);}async['createComputePipeline'](){const _0x527d46=_0xf3e3f4;this[_0x527d46(0x116)]=this['_device'][_0x527d46(0xc1)]({'label':'Particle\x20Compute\x20'+this[_0x527d46(0x133)](),'layout':this[_0x527d46(0x121)],'compute':{'module':this[_0x527d46(0x104)],'entryPoint':_0x527d46(0x12e)}});}[_0xf3e3f4(0xc6)](_0x2e9290){const _0x5136d4=_0xf3e3f4;_0x2e9290['setPipeline'](this[_0x5136d4(0x116)]),_0x2e9290[_0x5136d4(0x100)](0x0,this[_0x5136d4(0x13a)][this[_0x5136d4(0x10b)]%0x2]),_0x2e9290[_0x5136d4(0xfb)](Math['ceil'](this[_0x5136d4(0x111)]/0x40),0x1,0x1),++this['_step'];}}async function init(){const _0x1ca385=_0xf3e3f4,_0x4db4f8=document[_0x1ca385(0xdd)](_0x1ca385(0xf1));_0x4db4f8['id']=_0x1ca385(0xe7),document['body'][_0x1ca385(0xd0)](_0x4db4f8);const _0x4d894e=new Renderer(_0x4db4f8);await _0x4d894e[_0x1ca385(0xfa)]();const _0x24aa4b=new ParticleSystemObject(_0x4d894e['_device'],_0x4d894e['_canvasFormat'],_0x1ca385(0x11e),0x1000);await _0x4d894e['appendSceneObject'](_0x24aa4b);let _0x23058e=0x0;const _0x95034f=0x3c,_0x4c6bee=0x1/_0x95034f*0x3e8;let _0x375e2c=Date[_0x1ca385(0xbc)]();const _0x5983c8=()=>{const _0x2d050d=_0x1ca385,_0xaa3932=Date[_0x2d050d(0xbc)]()-_0x375e2c;_0xaa3932>_0x4c6bee&&(_0x23058e+=0x1,_0x375e2c=Date[_0x2d050d(0xbc)]()-_0xaa3932%_0x4c6bee,_0x4d894e['render']()),requestAnimationFrame(_0x5983c8);};return _0x375e2c=Date[_0x1ca385(0xbc)](),_0x5983c8(),_0x4d894e;}function _0x46a0(_0x1221b4,_0x296c94){_0x1221b4=_0x1221b4-0xbb;const _0x158769=_0x1587();let _0x46a0f0=_0x158769[_0x1221b4];return _0x46a0f0;}init()[_0xf3e3f4(0xd4)](_0x2d9c20=>{const _0x4c939c=_0xf3e3f4;console['log'](_0x4c939c(0xe8),_0x2d9c20);})['catch'](_0x4648c2=>{const _0x3f10f6=_0xf3e3f4,_0x1e3bc2=document[_0x3f10f6(0xdd)]('p');_0x1e3bc2['innerHTML']=navigator[_0x3f10f6(0x13c)]+_0x3f10f6(0xde)+_0x4648c2[_0x3f10f6(0xd5)],document[_0x3f10f6(0xcf)][_0x3f10f6(0xd0)](_0x1e3bc2);const _0x3aa73e=document[_0x3f10f6(0xc2)](_0x3f10f6(0xe7));if(_0x3aa73e)_0x3aa73e[_0x3f10f6(0xe1)]();});